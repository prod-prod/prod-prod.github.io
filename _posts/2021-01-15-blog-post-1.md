---
title: 'Hustle free DB installation. Docker introduction'
date: 2021-11-07
permalink: /posts/2021/11/docker-db/
tags:
  - docker
  - postgres
  - mysql
  - mongodb
---

[comment]: <> (запуск базы данных на компьютере)
<!--- Wrap text Докер - инструмент изоляции 
Run some database in a Docker
Hustle free DB installation. Docker introduction
Image vs container 
---> 

## Intro to docker
What is Docker? Docker vs virtualization? When you should use docker?

## How to install
You can install Docker on different OS. Installation guide can be found on the following [page](https://docs.docker.com/engine/install/).

## Basic docker commands
Docker pull, build, run, exec, stop, images, container

## Docker Hub

## Run SQL database in docker

### PostgreSQL
Postgres is a widely-used relational database with reach number of features. Docker Hub is used to get the Docker image.

The following commands can be used to start the Postgres in a Docker container: 

```bash
docker pull postgres

docker run --rm -p 5432:5432 --name pg_test \
  -e POSTGRES_PASSWORD=mypassword -d postgres
```

Let's take a deeper look in a `docker run` command. Following arguments are used in the command:

* `--rm` - remove container on exit 
* `-p 5432:5432` - forward 5432 port from Docker container to a local host port 5432 
* `--name pg_test` - assign name pg_test to a running container 
* `-e POSTGRES_PASSWORD=mypassword` - create environment variable POSTGRES_PASSWORD with value mypassword inside the container
* `-d postgres` - name of the image, we want to run 

To get more information visit [Docker Hub](https://hub.docker.com/_/postgres/), or official [GitHub repo](https://github.com/docker-library/postgres/).

### MySQL
MySQL is another widely-used relational database management system.

To get and run MySQL database in a Docker container execute:
For verification connection is used Dbeaver. 

```bash
docker pull mysql

docker run --rm --name docker_mysql -p 3306:3306 -e MYSQL_ROOT_PASSWORD=123456 -d mysql
```

If you face problems with connection 'Public Key Retrieval is not allowed' try another port and go to  `Edit connection` -> `Driver properties` -> `Connection properties` and set `allowPublicKeyRetrieval` - true, `useSSL` - false.

Regarding docker run arguments used the same as `docker run` for Postgres.

## Run NoSQL database in Docker

### MongoDB

## Conclusion

Docker is commonly used for isolation of the user space. It's easy to start and run once you have install Docker. Also it's convinient to run to multiple environments in the same time. 

From disadvantages networking might get complicated as well as memory consumtion. Also Docker will not fit for Linux kernel development, because Docker doesn't run the kernel and shares the kernel with the host. Docker highly optimized with Linux, but runs with overheads in Windows and Mac.





